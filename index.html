<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice Pro SaaS</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .invoice-shadow { box-shadow: 0 10px 40px -10px rgba(0,0,0,0.1); }
        @media print {
            body * { visibility: hidden; }
            #invoice-area, #invoice-area * { visibility: visible; }
            #invoice-area { position: absolute; left: 0; top: 0; width: 100%; margin: 0; padding: 0; box-shadow: none; }
            .no-print { display: none !important; }
        }
    </style>
</head>
<body class="bg-gray-100 text-slate-800">

    <nav class="bg-slate-900 text-white p-4 shadow-lg sticky top-0 z-50">
        <div class="max-w-5xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2">
                <div class="bg-blue-600 p-2 rounded-lg"><i data-lucide="file-text" class="w-6 h-6 text-white"></i></div>
                <span class="font-bold text-xl tracking-tight">Invoice<span class="text-blue-400">Pro</span></span>
            </div>
            <button onclick="downloadPDF()" class="bg-blue-600 hover:bg-blue-500 text-white px-5 py-2 rounded-lg font-semibold transition flex items-center gap-2 shadow-lg shadow-blue-900/50">
                <i data-lucide="download" class="w-5 h-5"></i> Download PDF
            </button>
        </div>
    </nav>

    <div class="max-w-5xl mx-auto mt-8 p-4 mb-20">
        
        <div id="invoice-area" class="bg-white rounded-xl invoice-shadow overflow-hidden relative">
            <div class="h-4 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600"></div>

            <div class="p-10 md:p-14">
                <div class="flex flex-col md:flex-row justify-between items-start mb-12 border-b border-gray-100 pb-10">
                    <div class="w-full md:w-1/2">
                        <label class="block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Dari</label>
                        <input type="text" value="PT. INOVASI DIGITAL" class="text-2xl font-bold text-slate-800 w-full outline-none placeholder-gray-300 mb-2 bg-transparent focus:bg-gray-50 rounded px-1 transition" placeholder="Nama Perusahaan Anda">
                        <textarea class="w-full text-slate-500 text-sm resize-none outline-none h-20 bg-transparent focus:bg-gray-50 rounded p-1 transition" placeholder="Alamat Lengkap&#10;Email: info@bisnis.com&#10;Telp: 0812-3456-7890">Jl. Teknologi No. 99, Jakarta Selatan&#10;Email: admin@invoicepro.id</textarea>
                    </div>
                    <div class="w-full md:w-1/3 text-right mt-6 md:mt-0">
                        <h1 class="text-5xl font-black text-slate-100 tracking-tighter mb-4">INVOICE</h1>
                        <div class="flex items-center justify-end gap-3 mb-2">
                            <span class="font-semibold text-slate-500 text-sm">NO. TAGIHAN</span>
                            <input type="text" value="#INV-2026-001" class="text-right font-mono font-bold text-slate-700 border-b border-gray-200 focus:border-blue-500 outline-none w-32 bg-transparent">
                        </div>
                        <div class="flex items-center justify-end gap-3">
                            <span class="font-semibold text-slate-500 text-sm">TANGGAL</span>
                            <input type="date" id="dateInput" class="text-right font-mono text-slate-700 border-b border-gray-200 focus:border-blue-500 outline-none bg-transparent">
                        </div>
                    </div>
                </div>

                <div class="mb-12">
                    <label class="block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Tagihan Kepada</label>
                    <input type="text" placeholder="Nama Klien / Perusahaan" class="text-xl font-bold text-slate-800 w-full outline-none border-b border-dashed border-gray-300 focus:border-blue-500 pb-1 mb-2 bg-transparent">
                    <input type="text" placeholder="Alamat Klien" class="text-slate-500 w-full outline-none bg-transparent">
                </div>

                <table class="w-full mb-10">
                    <thead>
                        <tr class="bg-gray-50 text-slate-600 text-xs font-bold uppercase tracking-wider border-y border-gray-200">
                            <th class="py-4 px-4 text-left">Deskripsi Item</th>
                            <th class="py-4 px-4 text-center w-24">Qty</th>
                            <th class="py-4 px-4 text-right w-40">Harga (Rp)</th>
                            <th class="py-4 px-4 text-right w-40">Total</th>
                            <th class="py-4 px-4 w-10 no-print"></th>
                        </tr>
                    </thead>
                    <tbody id="item-list">
                        </tbody>
                </table>

                <button onclick="addItem()" class="no-print mb-12 flex items-center gap-2 text-blue-600 font-bold text-sm bg-blue-50 px-4 py-2 rounded-full hover:bg-blue-100 transition">
                    <i data-lucide="plus-circle" class="w-4 h-4"></i> Tambah Baris Baru
                </button>

                <div class="flex flex-col md:flex-row justify-end items-start border-t border-gray-100 pt-8">
                    <div class="w-full md:w-1/2 md:pr-10 text-slate-500 text-sm mb-6 md:mb-0">
                        <p class="font-bold mb-2">Catatan Pembayaran:</p>
                        <textarea class="w-full h-24 bg-gray-50 rounded-lg p-3 outline-none resize-none border border-transparent focus:border-gray-200" placeholder="Transfer ke BCA: 123-456-7890&#10;A.n PT Inovasi Digital&#10;Jatuh tempo dalam 14 hari."></textarea>
                    </div>
                    <div class="w-full md:w-1/3 space-y-3">
                        <div class="flex justify-between text-slate-600">
                            <span>Subtotal</span>
                            <span class="font-bold font-mono" id="subtotal">Rp 0</span>
                        </div>
                        <div class="flex justify-between text-slate-600 items-center">
                            <span>Pajak</span>
                            <div class="flex items-center gap-1 bg-gray-100 rounded px-2">
                                <input type="number" value="0" id="taxInput" oninput="calculateTotal()" class="w-10 bg-transparent text-right outline-none text-sm font-bold">
                                <span class="text-xs font-bold">%</span>
                            </div>
                        </div>
                        <div class="flex justify-between text-2xl font-black text-slate-800 pt-4 border-t border-gray-200">
                            <span>Total</span>
                            <span class="text-blue-600" id="grandTotal">Rp 0</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="bg-gray-50 p-6 text-center text-slate-400 text-xs border-t">
                Dokumen ini dibuat secara otomatis dan sah tanpa tanda tangan basah.
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();
        document.getElementById('dateInput').valueAsDate = new Date();

        let items = [
            { desc: 'Pembuatan Website Company Profile', qty: 1, price: 2500000 },
            { desc: 'Domain & Hosting (1 Tahun)', qty: 1, price: 750000 }
        ];

        function formatRupiah(num) {
            return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(num);
        }

        function renderItems() {
            const tbody = document.getElementById('item-list');
            tbody.innerHTML = '';
            let subtotal = 0;

            items.forEach((item, index) => {
                const total = item.qty * item.price;
                subtotal += total;
                tbody.innerHTML += 
                    <tr class="group hover:bg-gray-50 transition border-b border-gray-100 last:border-0">
                        <td class="p-3"><input type="text" value="" oninput="updateItem(, 'desc', this.value)" class="w-full bg-transparent outline-none font-medium text-slate-700" placeholder="Deskripsi item..."></td>
                        <td class="p-3"><input type="number" value="" oninput="updateItem(, 'qty', this.value)" class="w-full bg-transparent outline-none text-center text-slate-600"></td>
                        <td class="p-3"><input type="number" value="" oninput="updateItem(, 'price', this.value)" class="w-full bg-transparent outline-none text-right font-mono text-slate-600"></td>
                        <td class="p-3 text-right font-bold text-slate-800 font-mono"></td>
                        <td class="p-3 text-center no-print">
                            <button onclick="removeItem()" class="text-red-300 hover:text-red-500 transition opacity-0 group-hover:opacity-100"><i data-lucide="trash-2" class="w-4 h-4"></i></button>
                        </td>
                    </tr>
                ;
            });
            lucide.createIcons();
            
            const taxRate = document.getElementById('taxInput').value;
            const tax = subtotal * (taxRate / 100);
            const grandTotal = subtotal + tax;

            document.getElementById('subtotal').innerText = formatRupiah(subtotal);
            document.getElementById('grandTotal').innerText = formatRupiah(grandTotal);
        }

        function updateItem(index, field, value) {
            items[index][field] = field === 'desc' ? value : Number(value);
            renderItems();
        }

        function addItem() {
            items.push({ desc: '', qty: 1, price: 0 });
            renderItems();
        }

        function removeItem(index) {
            items.splice(index, 1);
            renderItems();
        }

        function calculateTotal() {
            renderItems();
        }

        function downloadPDF() {
            const element = document.getElementById('invoice-area');
            const opt = {
                margin: 0,
                filename: 'invoice-pro.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
            };
            html2pdf().set(opt).from(element).save();
        }

        renderItems();
    </script>
</body>
</html>
